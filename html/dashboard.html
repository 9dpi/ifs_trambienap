<!DOCTYPE html>
<html lang="vi" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVN Admin - Dashboard</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <nav class="navbar">
        <div style="display:flex; align-items:center">
            <button class="mobile-btn" onclick="toggleMobileMenu()">
                <svg width="24" height="24" viewBox="0 0 24 24">
                    <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                </svg>
            </button>
            <a href="dashboard.html" class="brand" style="text-decoration:none">
                <div class="logo-box">I</div> IFS - AI
            </a>
        </div>

        <div class="nav-menu" id="mainMenu">
            <div class="nav-wrapper"><a href="dashboard.html" class="nav-link active-link">TRANG CHỦ</a></div>
            <div class="nav-wrapper"><a href="giamsattructiep.html" class="nav-link">GIÁM SÁT TRỰC TIẾP</a></div>
            <div class="nav-wrapper">
                <div class="nav-link">THEO DÕI ĐIỂM ĐO <svg class="nav-arrow" width="10" viewBox="0 0 24 24">
                        <path d="M7 10l5 5 5-5z" />
                    </svg></div>
                <div class="dropdown-menu">
                    <a href="theodoidiemdo_canhbaoai.html" class="menu-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon
                                points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                            </polygon>
                        </svg>
                        Cảnh báo AI
                    </a>
                    <a href="theodoidiemdo_canhbao.html" class="menu-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        Nhiệt độ vượt ngưỡng
                    </a>
                    <a href="theodoidiemdo_nhatkynhietdo.html" class="menu-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        Nhật ký nhiệt độ
                    </a>
                    <a href="#" class="menu-link">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                        Tổng hợp phân tích
                    </a>
                </div>
            </div>
            <div class="nav-wrapper">
                <div class="nav-link active-link">QUẢN TRỊ HỆ THỐNG <svg class="nav-arrow" width="10"
                        viewBox="0 0 24 24">
                        <path d="M7 10l5 5 5-5z" />
                    </svg></div>
                <div class="dropdown-menu mega-menu">
                    <div class="mega-col">
                        <div class="col-header">HẠ TẦNG & THIẾT BỊ</div>
                        <a href="quantrihethong_khuvuc.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            Khu vực
                        </a>
                        <a href="quantrihethong_camera.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M23 7l-7 5 7 5V7z"></path>
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                            </svg>
                            Camera
                        </a>
                        <a href="quantrihethong_cambien.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            Cảm biến
                        </a>
                        <a href="quantrihethong_loaithietbi.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="21 8 21 21 3 21 3 8"></polyline>
                                <rect x="1" y="3" width="22" height="5"></rect>
                                <line x1="10" y1="12" x2="14" y2="12"></line>
                            </svg>
                            Loại Thiết bị
                        </a>
                        <a href="quantrihethong_thietbi.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            Thiết bị
                        </a>
                    </div>
                    <div class="mega-col">
                        <div class="col-header">THIẾT LẬP CẢNH BÁO</div>
                        <a href="thietlapcanhbao_kenhcanhbao.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            Kênh Cảnh báo
                        </a>
                        <a href="theodoidiemdo_bocanhbao.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12.55a11 11 0 0 1 14.08 0"></path>
                                <path d="M1.42 9a16 16 0 0 1 21.16 0"></path>
                                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>
                                <line x1="12" y1="20" x2="12.01" y2="20"></line>
                            </svg>
                            Bộ cảnh báo
                        </a>
                        <a href="#" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            Lịch sử
                        </a>
                    </div>
                    <div class="mega-col">
                        <div class="col-header">QUẢN LÝ NGƯỜI DÙNG</div>
                        <a href="quantrihethong_nguoidung.html" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            Người dùng
                        </a>
                        <a href="#" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="8.5" cy="7" r="4"></circle>
                                <line x1="20" y1="8" x2="20" y2="14"></line>
                                <line x1="23" y1="11" x2="17" y2="11"></line>
                            </svg>
                            Thêm người dùng mới
                        </a>
                        <a href="#" class="menu-link menu-item-with-bg">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                            </svg>
                            Hướng dẫn sử dụng
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="header-actions">
            <div class="theme-switch" onclick="toggleTheme()">
                <div class="switch-knob"></div>
            </div>
            <div
                style="width:32px; height:32px; background:#E5E7EB; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; color:#4B5563">
                A</div>
        </div>
    </nav>

    <div class="container">
        <div class="grid">

            <div class="card kpi-card">
                <div>
                    <div class="kpi-lbl">Tổng Camera</div>
                    <div class="kpi-val">48</div>
                </div>
                <div class="kpi-icon bg-blue">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 7l-7 5 7 5V7z"></path>
                        <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                    </svg>
                </div>
            </div>
            <div class="card kpi-card">
                <div>
                    <div class="kpi-lbl">Số trạm (Sites)</div>
                    <div class="kpi-val">2</div>
                </div>
                <div class="kpi-icon bg-purple">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                </div>
            </div>
            <div class="card kpi-card">
                <div>
                    <div class="kpi-lbl">Cảnh báo Mới</div>
                    <div class="kpi-val" style="color:var(--danger)">5</div>
                </div>
                <div class="kpi-icon bg-red">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                </div>
            </div>
            <div class="card kpi-card">
                <div>
                    <div class="kpi-lbl">Nhiệt độ TB</div>
                    <div class="kpi-val" style="color:var(--success)">32°C</div>
                </div>
                <div class="kpi-icon bg-green">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>
                    </svg>
                </div>
            </div>

            <div class="card map-section">
                <div class="map-toolbar">
                    <span class="card-title">Bản đồ Giám sát</span>
                    <div class="map-toggle-group">
                        <button class="map-btn active" id="btnSingle" onclick="setMapMode('single')">Single</button>
                        <button class="map-btn" id="btnSplit" onclick="setMapMode('split')">Split</button>
                    </div>
                </div>
                <div class="map-view-container mode-single" id="mapContainer">
                    <div class="map-pane">
                        <div class="map-label">Trạm Liên Trì</div>
                        <div id="map1" style="width:100%;height:100%"></div>
                    </div>
                    <div class="map-pane">
                        <div class="map-label">Trạm Phú Quốc</div>
                        <div id="map2" style="width:100%;height:100%"></div>
                    </div>
                </div>
            </div>

            <div class="card alert-section">
                <div class="alert-header">Cảnh báo AI <a href="#" style="font-size:12px;color:var(--primary)">Xem tất
                        cả</a></div>
                <div class="alert-list">
                    <div class="alert-item">
                        <span class="al-badge" style="background:var(--danger)">
                            <svg style="width:12px; height:12px; margin-right:4px; vertical-align:middle"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path
                                    d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3 1.07.53 2 1.27 2 3.5 0 2.21-1.79 4-4 4s-4-1.79-4-4c0-2.5 2-4.5 2-4.5.5 1 1 1.62 1 3a2.5 2.5 0 0 0 2.5 2.5z">
                                </path>
                            </svg>
                            LỬA
                        </span>
                        <span class="al-msg">Phát hiện đốm lửa MBA T2</span>
                        <div class="al-loc">14:30 • Trạm Nam Phú Quốc</div>
                    </div>
                    <div class="alert-item">
                        <span class="al-badge" style="background:var(--purple)">
                            <svg style="width:12px; height:12px; margin-right:4px; vertical-align:middle"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            NGƯỜI
                        </span>
                        <span class="al-msg">Xâm nhập vùng cấm cổng sau</span>
                        <div class="al-loc">14:15 • Trạm Liên Trì</div>
                    </div>
                    <div class="alert-item">
                        <span class="al-badge" style="background:var(--warning); color:black">
                            <svg style="width:12px; height:12px; margin-right:4px; vertical-align:middle"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"></path>
                            </svg>
                            QUÁ NHIỆT
                        </span>
                        <span class="al-msg">Nhiệt độ Sứ A tăng cao (85°C)</span>
                        <div class="al-loc">13:00 • Trạm Nam Phú Quốc</div>
                    </div>
                    <div class="alert-item">
                        <span class="al-badge" style="background:#0EA5E9">
                            <svg style="width:12px; height:12px; margin-right:4px; vertical-align:middle"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path
                                    d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9L18.7 7.8c-.5-1.1-1.6-1.8-2.8-1.8H8.1c-1.2 0-2.3.7-2.8 1.8l-2.8 3.3C1.7 11.3 1 12.1 1 13v3c0 .6.4 1 1 1h2m3 0a2 2 0 1 0 4 0 2 2 0 1 0-4 0m10 0a2 2 0 1 0 4 0 2 2 0 1 0-4 0M4 12l2.5-3h11l2.5 3">
                                </path>
                            </svg>
                            XE
                        </span>
                        <span class="al-msg">Xe lạ đỗ quá 5 phút</span>
                        <div class="al-loc">10:00 • Kho vật tư</div>
                    </div>
                </div>
            </div>

            <div class="card chart-section">
                <div class="card-header"><span class="card-title">Xu hướng Nhiệt độ</span></div>
                <div id="tempChart" style="height:100%"></div>
            </div>

            <div class="card table-section">
                <div class="card-header"><span class="card-title">Trạng thái Thiết bị</span></div>
                <div style="overflow:auto">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Thiết bị</th>
                                <th>Loại</th>
                                <th>Ping</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Core Server 01</td>
                                <td>Server</td>
                                <td>2ms</td>
                                <td style="color:var(--success)">● Online</td>
                            </tr>
                            <tr>
                                <td>Cam-PTZ-PQ-03</td>
                                <td>Camera</td>
                                <td>--</td>
                                <td style="color:var(--danger)">● Mất kết nối</td>
                            </tr>
                            <tr>
                                <td>Gateway PQ</td>
                                <td>Gateway</td>
                                <td>120ms</td>
                                <td style="color:var(--warning)">● Chậm</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

    <script src="js/main.js"></script>
</body>

</html>